import React, { useState, useEffect, useRef } from 'react';
import { 
  Rocket, Globe, Cpu, Layout, Smartphone, ChevronRight, Mail, 
  ArrowUpRight, Zap, Sparkles, MousePointer2, Terminal, Grid,
  Search, BookOpen, MapPin, Share2, Clock, CheckCircle2, ShoppingCart, Video,
  Menu, X, Instagram, Linkedin, Twitter, MessageCircle, Send, Bot
} from 'lucide-react';

// --- 2026 Vizyonu: 10 Adet SEO/AI Makalesi ---
const BLOG_POSTS = [
  {
    id: 1,
    title: "Yapay Zeka Arama Motorları (GEO) ve SEO'nun Sonu mu?",
    excerpt: "Perplexity ve SearchGPT gibi platformlarda görünür olmak için anahtar kelimelerden ziyade 'niyet' odaklı içerik üretimi.",
    date: "12 Şubat 2026",
    category: "AI Optimization",
    readTime: "7 dk",
    image: "https://images.unsplash.com/photo-1677442136019-21780ecad995?auto=format&fit=crop&w=800&q=80"
  },
  {
    id: 2,
    title: "Meta Reklamları 2026: Gizlilik Sınırında Maksimum Performans",
    excerpt: "Çerezsiz dünyada Meta reklamlarının geleceği. AI tabanlı hedefleme sorunlu mu yoksa bir fırsat mı?",
    date: "10 Şubat 2026",
    category: "Meta Ads",
    readTime: "10 dk",
    image: "https://images.unsplash.com/photo-1611162617213-7d7a39e9b1d7?auto=format&fit=crop&w=800&q=80"
  },
  {
    id: 3,
    title: "Dijital Medyada Doğru Fizibilite Analizi Nasıl Yapılır?",
    excerpt: "Yatırım yapmadan önce pazarın dijital doygunluğunu ölçmek: Veri odaklı büyüme rehberi.",
    date: "8 Şubat 2026",
    category: "Strategy",
    readTime: "6 dk",
    image: "https://images.unsplash.com/photo-1460925895917-afdab827c52f?auto=format&fit=crop&w=800&q=80"
  },
  {
    id: 4,
    title: "Ankara Web Tasarım: Yerel Güçten Küresel Markaya",
    excerpt: "Çankaya merkezli bir işletmenin Google aramalarında tüm Türkiye'ye ulaşma serüveni.",
    date: "5 Şubat 2026",
    category: "Web Design",
    readTime: "5 dk",
    image: "https://images.unsplash.com/photo-1497215728101-856f4ea42174?auto=format&fit=crop&w=800&q=80"
  },
  {
    id: 5,
    title: "Generative AI ve İçerik Üretiminde Otomasyon",
    excerpt: "İçerik üretiminde yapay zeka kullanımı: Kaliteyi bozmadan nasıl ölçeklenir?",
    date: "3 Şubat 2026",
    category: "Content AI",
    readTime: "8 dk",
    image: "https://images.unsplash.com/photo-1620712943543-bcc4688e7485?auto=format&fit=crop&w=800&q=80"
  },
  {
    id: 6,
    title: "TikTok Ads vs Meta: 2026'da Dikkat Savaşını Kim Kazanacak?",
    excerpt: "Kısa videoların reklam dünyasındaki hakimiyeti ve bütçe yönetimi stratejileri.",
    date: "1 Şubat 2026",
    category: "Social Media",
    readTime: "9 dk",
    image: "https://images.unsplash.com/photo-1611605698335-8b1569810432?auto=format&fit=crop&w=800&q=80"
  },
  {
    id: 7,
    title: "Sürdürülebilir SEO: Backlink Devrinin Kapanışı",
    excerpt: "Artık otorite sadece linkle değil, kullanıcı etkileşimi ve teknik mükemmellikle ölçülüyor.",
    date: "28 Ocak 2026",
    category: "SEO",
    readTime: "7 dk",
    image: "https://images.unsplash.com/photo-1432888622747-4eb9a8f2c1d9?auto=format&fit=crop&w=800&q=80"
  },
  {
    id: 8,
    title: "Mekansal Arayüzler (Spatial UI) ve Web Tasarım",
    excerpt: "Vision Pro sonrası web siteleri nasıl evrilecek? 3D elementlerin kullanımı.",
    date: "25 Ocak 2026",
    category: "Design",
    readTime: "12 dk",
    image: "https://images.unsplash.com/photo-1614850523296-d8c1af93d400?auto=format&fit=crop&w=800&q=80"
  },
  {
    id: 9,
    title: "E-Ticarette AI Destekli Müşteri Deneyimi",
    excerpt: "Sepet terk oranlarını düşüren akıllı asistanlar ve kişiselleştirilmiş ürün önerileri.",
    date: "20 Ocak 2026",
    category: "E-Commerce",
    readTime: "6 dk",
    image: "https://images.unsplash.com/photo-1557821552-17105176677c?auto=format&fit=crop&w=800&q=80"
  },
  {
    id: 10,
    title: "Dijital Reklamlarda Etik ve Şeffaflık",
    excerpt: "Kullanıcı verisi işlemede yeni yasal düzenlemeler ve markaların güven inşası.",
    date: "15 Ocak 2026",
    category: "Policy",
    readTime: "5 dk",
    image: "https://images.unsplash.com/photo-1507925921958-8a62f3d1a50d?auto=format&fit=crop&w=800&q=80"
  }
];

// --- Hizmet Verileri ---
const SERVICES = [
  { title: "Web Tasarım", icon: <Layout />, desc: "Kullanıcı deneyimini merkeze alan, mobil uyumlu, SEO dostu ve dönüşüm odaklı projeler.", color: "from-[#7030D0]/20" },
  { title: "SEO Optimizasyonu", icon: <Search />, desc: "Teknik, organik ve lokal SEO ile firmanıza özel organik trafik artışı ve Google başarısı.", color: "from-[#30D67D]/20" },
  { title: "Kurumsal Kimlik", icon: <Smartphone />, desc: "Logo, kartvizit ve modern NFC/QR kodlu dijital kartvizit çözümleri.", color: "from-[#7030D0]/20" },
  { title: "Dijital Reklam", icon: <Zap />, desc: "Google Ads, Instagram ve Meta reklamlarıyla dönüşüm odaklı profesyonel kampanya yönetimi.", color: "from-[#30D67D]/20" },
  { title: "E-Ticaret", icon: <ShoppingCart />, desc: "Satışa hazır, ödeme sistemleri entegreli kullanıcı dostu online mağaza kurulumları.", color: "from-[#7030D0]/20" },
  { title: "Prodüksiyon", icon: <Video />, desc: "Tanıtım filmi ve profesyonel ürün çekimleriyle markanızı görselleştiriyoruz.", color: "from-[#30D67D]/20" }
];

// --- Logo Bileşeni ---
const MuiLogo = ({ className = "w-10 h-10" }) => (
  <svg viewBox="0 0 100 80" fill="none" xmlns="http://www.w3.org/2000/svg" className={className}>
    <path d="M20 70V35C20 23.9543 28.9543 15 40 15V15C51.0457 15 60 23.9543 60 35V70" stroke="#7030D0" strokeWidth="15" strokeLinecap="round"/>
    <path d="M60 70V55C60 43.9543 68.9543 35 80 35H80" stroke="#7030D0" strokeWidth="15" strokeLinecap="round"/>
    <circle cx="90" cy="65" r="10" fill="#30D67D" />
  </svg>
);

const App = () => {
  const [view, setView] = useState('home');
  const [mousePos, setMousePos] = useState({ x: 0, y: 0 });
  const [scrolled, setScrolled] = useState(0);
  const [menuOpen, setMenuOpen] = useState(false);
  const [chatOpen, setChatOpen] = useState(false);
  const [messages, setMessages] = useState([
    { role: 'bot', text: 'Merhaba! Ben MuiBot. Markanızı dijitalde büyütmek için buradayım. Hangi hizmetimizle ilgileniyorsunuz?' }
  ]);

  const whatsappUrl = "https://wa.me/905322426012?text=Merhaba, Mui Medya üzerinden teklif almak istiyorum.";

  useEffect(() => {
    const handleScroll = () => setScrolled(window.scrollY);
    const handleMouseMove = (e) => setMousePos({ x: e.clientX, y: e.clientY });
    window.addEventListener('scroll', handleScroll);
    window.addEventListener('mousemove', handleMouseMove);
    return () => {
      window.removeEventListener('scroll', handleScroll);
      window.removeEventListener('mousemove', handleMouseMove);
    };
  }, []);

  const navigateTo = (sectionId) => {
    setMenuOpen(false);
    setView('home');
    setTimeout(() => {
      const element = document.getElementById(sectionId);
      if (element) element.scrollIntoView({ behavior: 'smooth' });
    }, 100);
  };

  const handleChat = (service) => {
    const response = {
      'Web Tasarım': 'Web tasarım projelerimizde mobil öncelikli ve SEO odaklı bir mimari kullanıyoruz. Teklif için sizi WhatsApp hattımıza yönlendirebilirim.',
      'SEO': 'Google ve Yapay Zeka arama motorlarında üst sıralara çıkmanız için teknik ve içerik SEO stratejileri geliştiriyoruz.',
      'Reklam': 'Meta ve Google Ads bütçenizi maksimum dönüşüm (ROI) hedefiyle profesyonelce yönetiyoruz.',
      'Diğer': 'Tüm dijital süreçleriniz için profesyonel ekibimiz hazır!'
    }[service] || "Anlayamadım, lütfen bir hizmet seçin.";
    
    setMessages([...messages, { role: 'user', text: service }, { role: 'bot', text: response }]);
  };

  return (
    <div className={`min-h-screen bg-[#050508] text-white selection:bg-[#7030D0]/40 font-sans overflow-x-hidden ${menuOpen ? 'h-screen overflow-hidden' : ''}`}>
      
      {/* Background Ambience */}
      <div 
        className="fixed inset-0 pointer-events-none z-0 opacity-30 hidden md:block"
        style={{ background: `radial-gradient(circle at ${mousePos.x}px ${mousePos.y}px, rgba(112, 48, 208, 0.12) 0%, transparent 40%)` }}
      />

      {/* Navigation */}
      <nav className={`fixed top-0 w-full z-[110] transition-all duration-500 ${scrolled > 50 ? 'bg-black/90 backdrop-blur-lg py-4 border-b border-white/5' : 'bg-transparent py-8'}`}>
        <div className="max-w-7xl mx-auto px-6 flex justify-between items-center">
          <div className="flex items-center gap-3 cursor-pointer relative z-[120]" onClick={() => { setView('home'); setMenuOpen(false); }}>
            <MuiLogo className="w-8 h-8 md:w-10 md:h-10" />
            <span className="font-black text-lg md:text-xl tracking-tighter">MUI MEDYA</span>
          </div>
          
          <div className="hidden lg:flex gap-10 text-[10px] font-black uppercase tracking-[0.2em] text-white/50">
            <button onClick={() => setView('home')} className={`hover:text-[#30D67D] transition-all ${view === 'home' ? 'text-[#30D67D]' : ''}`}>ANA SAYFA</button>
            <button onClick={() => navigateTo('services')} className="hover:text-[#30D67D] transition-all">HİZMETLER</button>
            <button onClick={() => setView('blog')} className={`hover:text-[#30D67D] transition-all ${view === 'blog' ? 'text-[#30D67D]' : ''}`}>BLOG</button>
            <button onClick={() => navigateTo('contact')} className="hover:text-[#30D67D] transition-all">İLETİŞİM</button>
          </div>

          <div className="flex items-center gap-4">
            <a href={whatsappUrl} target="_blank" rel="noopener noreferrer" className="hidden sm:flex bg-[#7030D0] hover:bg-[#30D67D] text-white px-8 py-3 rounded-full text-xs font-black transition-all hover:scale-105 shadow-xl shadow-purple-500/10 items-center gap-2">
              TEKLİF AL <MessageCircle size={16} />
            </a>
            <button onClick={() => setMenuOpen(!menuOpen)} className="relative z-[120] p-3 bg-white/5 rounded-2xl border border-white/10 hover:bg-white/10 transition-all">
              {menuOpen ? <X size={24} /> : <Menu size={24} />}
            </button>
          </div>
        </div>
      </nav>

      {/* Full Screen Menu */}
      <div className={`fixed inset-0 z-[105] bg-black/98 backdrop-blur-3xl transition-all duration-700 flex flex-col justify-center items-center ${menuOpen ? 'opacity-100' : 'opacity-0 pointer-events-none translate-y-10'}`}>
        <div className="flex flex-col gap-6 text-center">
            {['ANA SAYFA', 'HİZMETLER', 'SÜREÇ', 'BLOG', 'İLETİŞİM'].map((item, idx) => (
                <button 
                  key={idx} 
                  onClick={() => item === 'BLOG' ? (setView('blog'), setMenuOpen(false)) : navigateTo(item.toLowerCase().replace('İ', 'i').replace('Ü', 'u').replace(' ', ''))}
                  className="text-4xl md:text-8xl font-black italic tracking-tighter hover:text-[#30D67D] transition-colors"
                >
                  {item}
                </button>
            ))}
        </div>
      </div>

      {view === 'home' ? (
        <>
          {/* Hero */}
          <section id="home" className="relative pt-48 pb-20 px-6 max-w-7xl mx-auto min-h-screen flex flex-col justify-center items-start">
            <div className="space-y-10 w-full">
              <div className="inline-flex items-center gap-3 px-5 py-2 rounded-full bg-[#30D67D]/10 border border-[#30D67D]/20 text-[#30D67D] text-[10px] font-black uppercase tracking-[0.3em] animate-pulse">
                <Sparkles size={14} /> ANKARA'NIN DİJİTAL GELECEĞİ 2026
              </div>
              
              <h1 className="text-6xl md:text-[9rem] font-black leading-[0.85] tracking-tighter">
                SİZİN İÇİN <br />
                <span className="text-transparent bg-clip-text bg-gradient-to-r from-[#7030D0] to-[#30D67D] italic">DİJİTALLEŞTİRİYORUZ.</span>
              </h1>

              <div className="flex flex-col lg:flex-row gap-16 items-start justify-between">
                <p className="max-w-2xl text-xl md:text-2xl text-white/50 font-light leading-relaxed">
                  Web tasarım, Meta reklamları ve AI optimizasyonlu dijital pazarlama ile markanızı geleceğe hazırlayan 360 derece çözüm ortağınız.
                </p>
                <div className="flex flex-col gap-2">
                   <span className="text-6xl font-black text-white/10">#Mui2026</span>
                   <div className="h-1 w-full bg-gradient-to-r from-[#7030D0] to-[#30D67D]" />
                </div>
              </div>
            </div>
          </section>

          {/* Bento Grid Services */}
          <section id="services" className="py-32 px-6 max-w-7xl mx-auto">
            <h2 className="text-4xl md:text-7xl font-black italic mb-20 tracking-tighter uppercase">Neler <span className="text-[#30D67D]">Yapıyoruz?</span></h2>
            <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
              {SERVICES.map((service, idx) => (
                <div key={idx} className="group relative p-12 rounded-[3.5rem] bg-white/[0.03] border border-white/5 hover:border-[#7030D0]/30 transition-all hover:bg-white/[0.06]">
                  <div className={`absolute inset-0 bg-gradient-to-br ${service.color} to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500`} />
                  <div className="relative z-10 flex flex-col h-full justify-between gap-10">
                    <div className="w-16 h-16 rounded-2xl bg-black/40 flex items-center justify-center text-[#30D67D] group-hover:scale-110 transition-transform">
                      {service.icon}
                    </div>
                    <div>
                      <h3 className="text-2xl font-black mb-4">{service.title}</h3>
                      <p className="text-white/40 leading-relaxed font-light">{service.desc}</p>
                    </div>
                    <ArrowUpRight className="text-white/20 group-hover:text-[#30D67D] transition-all" />
                  </div>
                </div>
              ))}
            </div>
          </section>

          {/* Contact CTA */}
          <section id="contact" className="py-40 px-6 max-w-7xl mx-auto text-center">
             <div className="bg-gradient-to-b from-[#7030D0]/20 to-transparent p-16 md:p-32 rounded-[5rem] border border-white/5 space-y-12">
                <h2 className="text-5xl md:text-9xl font-black italic tracking-tighter leading-none">İz Bırakmaya <br /> <span className="text-[#30D67D]">Hazır mısınız?</span></h2>
                <p className="text-white/40 text-xl md:text-2xl max-w-2xl mx-auto">2026'nın dijital trendlerini markanıza entegre etmek için bir adım atın.</p>
                <div className="flex flex-col sm:flex-row gap-6 justify-center">
                  <a href={whatsappUrl} target="_blank" rel="noopener noreferrer" className="px-12 py-6 bg-[#30D67D] text-black rounded-3xl font-black text-xl hover:shadow-[0_0_50px_rgba(48,214,125,0.3)] transition-all">WhatsApp Teklif Al</a>
                  <button onClick={() => setChatOpen(true)} className="px-12 py-6 bg-white/5 border border-white/10 rounded-3xl font-black text-xl hover:bg-white/10 transition-all">MuiBot ile Tanış</button>
                </div>
             </div>
          </section>
        </>
      ) : (
        /* Enhanced Blog Section */
        <section className="pt-48 pb-40 px-6 max-w-7xl mx-auto min-h-screen">
          <div className="flex flex-col md:flex-row justify-between items-end mb-24 gap-10">
            <div className="space-y-4">
               <h1 className="text-6xl md:text-9xl font-black italic tracking-tighter uppercase">Mui <span className="text-[#7030D0]">Blog</span></h1>
               <p className="text-white/40 text-xl font-light">Dijital dünyanın nabzı, SEO stratejileri ve AI trendleri.</p>
            </div>
            <div className="bg-white/5 border border-white/10 rounded-full px-6 py-3 flex items-center gap-3">
               <Search size={18} className="text-[#30D67D]" />
               <input type="text" placeholder="İçerik ara..." className="bg-transparent border-none focus:outline-none text-sm w-40" />
            </div>
          </div>

          <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-12">
            {BLOG_POSTS.map(post => (
              <article key={post.id} className="group flex flex-col bg-white/[0.02] border border-white/5 rounded-[3rem] overflow-hidden hover:border-[#30D67D]/40 transition-all">
                <div className="aspect-[16/10] overflow-hidden">
                  <img src={post.image} alt={post.title} className="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700" />
                </div>
                <div className="p-10 space-y-6 flex-1 flex flex-col">
                  <div className="flex justify-between items-center text-[10px] font-black uppercase tracking-widest text-[#30D67D]">
                    <span>{post.category}</span>
                    <span className="flex items-center gap-1 text-white/20"><Clock size={12} /> {post.readTime}</span>
                  </div>
                  <h3 className="text-2xl font-black leading-tight group-hover:text-[#30D67D] transition-colors">{post.title}</h3>
                  <p className="text-sm text-white/40 line-clamp-3 font-light leading-relaxed flex-1">{post.excerpt}</p>
                  <button className="flex items-center gap-2 text-[10px] font-black uppercase tracking-[0.3em] pt-6 border-t border-white/5 w-full hover:text-[#30D67D] transition-colors">
                    TAMAMINI OKU <ChevronRight size={14} />
                  </button>
                </div>
              </article>
            ))}
          </div>
        </section>
      )}

      {/* MuiBot Assistant */}
      <div className={`fixed bottom-8 right-8 z-[120] transition-all duration-500 ${chatOpen ? 'w-[350px] md:w-[400px]' : 'w-16 h-16'}`}>
        {!chatOpen ? (
          <button 
            onClick={() => setChatOpen(true)}
            className="w-full h-full bg-[#7030D0] rounded-2xl flex items-center justify-center shadow-2xl hover:scale-110 transition-transform group"
          >
            <Bot size={32} className="text-white group-hover:rotate-12 transition-transform" />
            <div className="absolute -top-2 -right-2 w-4 h-4 bg-[#30D67D] rounded-full animate-ping" />
          </button>
        ) : (
          <div className="bg-[#0a0a0f] border border-white/10 rounded-[2.5rem] shadow-2xl flex flex-col overflow-hidden h-[500px]">
            <div className="p-6 bg-[#7030D0]/10 border-b border-white/10 flex justify-between items-center">
               <div className="flex items-center gap-3">
                  <div className="w-10 h-10 bg-[#7030D0] rounded-xl flex items-center justify-center">
                    <Bot size={24} />
                  </div>
                  <div>
                    <h4 className="font-black text-sm">MuiBot AI</h4>
                    <span className="text-[10px] text-[#30D67D] font-bold">Çevrimiçi</span>
                  </div>
               </div>
               <button onClick={() => setChatOpen(false)} className="text-white/30 hover:text-white"><X size={20} /></button>
            </div>
            
            <div className="flex-1 p-6 overflow-y-auto space-y-4">
              {messages.map((m, i) => (
                <div key={i} className={`flex ${m.role === 'user' ? 'justify-end' : 'justify-start'}`}>
                  <div className={`max-w-[80%] p-4 rounded-3xl text-sm ${m.role === 'user' ? 'bg-[#7030D0] rounded-tr-none' : 'bg-white/5 border border-white/10 rounded-tl-none text-white/70'}`}>
                    {m.text}
                  </div>
                </div>
              ))}
            </div>

            <div className="p-4 bg-black/40 border-t border-white/5">
               <div className="flex flex-wrap gap-2 mb-4">
                  {['Web Tasarım', 'SEO', 'Reklam'].map(s => (
                    <button key={s} onClick={() => handleChat(s)} className="text-[10px] font-bold px-3 py-1 bg-white/5 border border-white/10 rounded-full hover:bg-[#7030D0] transition-colors">
                      {s}
                    </button>
                  ))}
               </div>
               <a href={whatsappUrl} target="_blank" rel="noopener noreferrer" className="w-full bg-[#30D67D] text-black py-3 rounded-2xl font-black text-xs flex items-center justify-center gap-2">
                 TEKLİF İÇİN WHATSAPP'A GEÇ <Send size={14} />
               </a>
            </div>
          </div>
        )}
      </div>

      <style dangerouslySetInnerHTML={{ __html: `
        html { scroll-behavior: smooth; }
        ::-webkit-scrollbar { width: 4px; }
        ::-webkit-scrollbar-track { background: #050508; }
        ::-webkit-scrollbar-thumb { background: #7030D0; border-radius: 10px; }
        @keyframes scroll { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }
      `}} />
    </div>
  );
};

export default App;
